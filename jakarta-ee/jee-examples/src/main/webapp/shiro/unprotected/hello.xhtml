<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Hello Unprotected</title>
    </h:head>
    <h:body>
        <h:form id="form">
            <h:commandButton id="facesViewScoped" value="Call Faces View Scoped" action="#{unprotectedFacade.callFacesViewScoped()}">
                <f:ajax execute="@form" render="@form"/>
            </h:commandButton>
            <h:commandButton id="omniViewScoped" value="Call Omni View Scoped" action="#{unprotectedFacade.callOmniViewScoped()}">
                <f:ajax execute="@form" render="@form"/>
            </h:commandButton>
            <h:commandButton id="sessionScoped" value="Session Scoped" action="#{unprotectedFacade.callSessionScoped()}">
                <f:ajax execute="@form" render="@form"/>
            </h:commandButton>
            <h:commandButton id="stateless" value="Stateless Bean" action="#{unprotectedFacade.callStatelessBean()}">
                <f:ajax execute="@form" render="@form"/>
            </h:commandButton>
            <p/>
            <h:commandButton id="logout" value="Logout..." action="#{loginBean.logout}"/>
            <h:messages id="messages"/>
            <div jsf:rendered="#{loginBean.sessionExpired}" style="color: red;" id="sessionExpiredMessage">
                Your Session Has Expired
            </div>
        </h:form>
        <input type="button" id="logoutservlet" value="Logout via Servlet"
               onclick="fetch('#{request.contextPath}/logoutservlet', alert('Session invalidated!'))" />
    </h:body>
</html>
